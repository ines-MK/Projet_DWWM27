{% extends 'baseAdmin.html.twig' %}

{% block title %}Liste des produits{% endblock %}

{% block body %}

    <h1 id="liste">Liste des produits✨</h1>
        <table class="table table-sm text-center align-middle">
            <thead>
            <tr>
                <th class="col-1">N°</th>
                <th class="col-1"></th>
                <th class="col-1">Nom</th>
                <th class="col-1">Prix</th>
                <th class="col-2">Résumé</th>
                <th class="col-1">Stock</th>
                <th class="col-1">Actions</th>
            </tr>
            </thead>
            <tbody>
                    {% for product in products|reverse %}
            <tr>
                    <td>{{ loop.revindex }}</td>
                    <td>
                        <img src="{{ asset('img/product/' ~ product.image) }}" 
                        alt="Image Principale du produit {{ product.name }}">
                    </td>
                    <td>{{product.name}}</td>
                    <td>{{ product.price|number_format(2, ',', ' ') }}€</td>
                    <td>{{ product.abstract }}</td>
                    <td>{{ product.quantity }}</td>
                    <td>
                        <a href="{{ path('product_update', {'id': product.id}) }}"><i class="bi bi-pencil-square m-1"></i></a>
                        <a onclick="return confirm('Etes vous sûr de vouloir supprimer ce produit {{ product.name }} ?')" 
                        href="{{ path('product_delete', {'id': product.id}) }}"><i class="bi bi-trash3 text-danger m-1"></i></a>
                    </td>
            </tr>
            {% endfor %}
            </tbody>
      </table>
      <div class="text-end">
        <button type="button" class="btn btn-light" style="background-color: #C19971; border: none;">
            <a href="{{ path('product_create') }}" style="color: #FCF0D7;">Ajouter un produit</a></button>
      </div>
      
{% endblock %}

